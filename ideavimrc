"*********************************************************************
" ideavimrc
"*********************************************************************

set surround

" Change mapleader
let mapleader = ' '
let maplocalleader = ','

" Use the OS clipboard by default
if has('clipboard')
  if has('unnamedplus')
    set clipboard=unnamed,unnamedplus
  else
    set clipboard=unnamed
  endif
endif

" Enable native idea paste action for put operations
set clipboard+=ideaput

" Ignore case of searches
set ignorecase

" When searching try to be smart about cases
set smartcase

" Show the current mode
set showmode

" Enable line numbers
set number

" Highlight dynamically as pattern is typed
set incsearch

" Use relative line numbers
if exists("&relativenumber")
  set relativenumber
endif

nnoremap Y y$
nnoremap S <Action>(Find)
nnoremap s <Action>(Find)
vnoremap S <Action>(Find)
vnoremap s <Action>(Find)

inoremap <C-a> <Home>
inoremap <C-e> <End>
inoremap <C-b> <Left>
inoremap <C-f> <Right>
inoremap <C-d> <Del>
inoremap <C-n> <Down>
inoremap <C-p> <Up>

nmap <C-k> <Action>(GotoPreviousError)
nmap <C-j> <Action>(GotoNextError)
nmap <C-n> <Action>(NextTab)
nmap <C-p> <Action>(PreviousTab)

nmap <Leader>1 <Action>(GoToTab1)
nmap <Leader>2 <Action>(GoToTab2)
nmap <Leader>3 <Action>(GoToTab3)
nmap <Leader>4 <Action>(GoToTab4)
nmap <Leader>5 <Action>(GoToTab5)
nmap <Leader>6 <Action>(GoToTab6)
nmap <Leader>7 <Action>(GoToTab7)
nmap <Leader>8 <Action>(GoToTab8)
nmap <Leader>9 <Action>(GoToTab9)

nmap <Leader><Tab> <Action>(GotoAction)
xmap <Leader><Tab> <Action>(GotoAction)
omap <Leader><Tab> <Action>(GotoAction)

nnoremap <Leader>= <Action>(ReformatCode)

nnoremap <Leader>bd <Action>(CloseContent)
nnoremap <Leader>bh <Action>(LocalHistory.ShowHistory)
nnoremap <Leader>bo <Action>(CloseAllEditorsButActive)
nnoremap <Leader>bw <Action>(CloseEditor)

nnoremap <Leader>c<Space> <Action>(CommentByLineComment)
vnoremap <Leader>c<Space> <Action>(CommentByLineComment)

nnoremap <Leader>ff <Action>(GotoFile)
nnoremap <Leader>fh <Action>(RecentFiles)
nnoremap <Leader>fs <Action>(RecentChangedFiles)

nnoremap <Leader>gb <Action>(Annotate)
nnoremap <Leader>gd <Action>(Compare.LastVersion)
nnoremap <Leader>gf <Action>(Git.Fetch)
nnoremap <Leader>gg <Action>(GotoFile)
nnoremap <Leader>gm <Action>(Git.Merge)
nnoremap <Leader>gl <Action>(Git.Pull)
nnoremap <Leader>gs <Action>(ActivateVersionControlToolWindow)
nnoremap <Leader>gv <Action>(LocalHistory.ShowHistory)

nnoremap <Leader>jd <Action>(GotoDeclarationOnly)
nnoremap <Leader>jj <Action>(GotoImplementation)
nnoremap <Leader>js <Action>(GotoSuperMethod)
nnoremap <Leader>jr <Action>(ShowUsages)

nnoremap <Leader>nn <Action>(ActivateProjectToolWindow)
nnoremap <Leader>nj <Action>(SelectInProjectView)

nnoremap <Leader>sa <Action>(FindInPath)
nnoremap <Leader>sg <Action>(FindInPath)
nnoremap <Leader>sr <Action>(FindInPath)

nnoremap <Leader>tn <Action>(ActivateProjectToolWindow)
nnoremap <Leader>tt <Action>(ActivateStructureToolWindow)

nnoremap <Leader>yf <Action>(CopyPaths)
nnoremap <Leader>yn <Action>(CopyReference)

nnoremap ,K <Action>(QuickJavaDoc)
nnoremap ,k <Action>(ExpressionTypeInfo)

if filereadable(expand('~/.ideavimrc.local'))
  source ~/.ideavimrc.local
endif
