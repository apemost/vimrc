"*********************************************************************
" ideavimrc
"*********************************************************************

set surround

" Change mapleader
let mapleader = ' '
let maplocalleader = ','

" Use the OS clipboard by default
if has('clipboard')
  if has('unnamedplus')
    set clipboard=unnamed,unnamedplus
  else
    set clipboard=unnamed
  endif
endif

" Enable native idea paste action for put operations
set clipboard+=ideaput

" Ignore case of searches
set ignorecase

" When searching try to be smart about cases
set smartcase

" Show the current mode
set showmode

" Enable line numbers
set number

" Highlight dynamically as pattern is typed
set incsearch

" Use relative line numbers
if exists("&relativenumber")
  set relativenumber
endif

nnoremap Y y$
nnoremap S :action FindInPath<CR>
nnoremap s :action Find<CR>
vnoremap S :action FindInPath<CR>
vnoremap s :action Find<CR>

inoremap <C-a> <Home>
inoremap <C-e> <End>
inoremap <C-b> <Left>
inoremap <C-f> <Right>
inoremap <C-d> <Del>

nmap <C-k> :action GotoPreviousError<CR>
nmap <C-j> :action GotoNextError<CR>
nmap <C-o> :action Back<CR>
nmap <C-i> :action Forward<CR>
nmap <C-n> :action NextTab<CR>
nmap <C-p> :action PreviousTab<CR>

nmap <Leader>1 :action GoToTab1<CR>
nmap <Leader>2 :action GoToTab2<CR>
nmap <Leader>3 :action GoToTab3<CR>
nmap <Leader>4 :action GoToTab4<CR>
nmap <Leader>5 :action GoToTab5<CR>
nmap <Leader>6 :action GoToTab6<CR>
nmap <Leader>7 :action GoToTab7<CR>
nmap <Leader>8 :action GoToTab8<CR>
nmap <Leader>9 :action GoToTab9<CR>

nmap <Leader><Tab> :action GotoAction<CR>
xmap <Leader><Tab> :action GotoAction<CR>
omap <Leader><Tab> :action GotoAction<CR>

nnoremap <Leader>= :action ReformatCode<CR>

nnoremap <Leader>bd :action CloseContent<CR>
nnoremap <Leader>bh :action LocalHistory.ShowHistory<CR>
nnoremap <Leader>bo :action CloseAllEditorsButActive<CR>
nnoremap <Leader>bw :action CloseEditor<CR>

nnoremap <Leader>ff :action GotoFile<CR>
nnoremap <Leader>fh :action RecentFiles<CR>
nnoremap <Leader>fs :action RecentChangedFiles<CR>

nnoremap <Leader>gb :action Annotate<CR>
nnoremap <Leader>gd :action Compare.LastVersion<CR>
nnoremap <Leader>gf :action Git.Fetch<CR>
nnoremap <Leader>gg :action GotoFile<CR>
nnoremap <Leader>gm :action Git.Merge<CR>
nnoremap <Leader>gl :action Git.Pull<CR>
nnoremap <Leader>gs :action ActivateVersionControlToolWindow<CR>
nnoremap <Leader>gv :action LocalHistory.ShowHistory<CR>

nnoremap <Leader>sa :action GotoSymbol<CR>
nnoremap <Leader>sg :action GotoSymbol<CR>
nnoremap <Leader>sr :action GotoSymbol<CR>

nnoremap <Leader>jd :action GotoDeclaration<CR>
nnoremap <Leader>jj :action GotoImplementation<CR>
nnoremap <Leader>jr :action ShowUsages<CR>

nnoremap <Leader>nn :action ActivateProjectToolWindow<CR>

nnoremap <Leader>tn :action ActivateProjectToolWindow<CR>
nnoremap <Leader>tt :action ActivateStructureToolWindow<CR>

nnoremap <Leader>yf :action CopyPaths<CR>
nnoremap <Leader>yn :action CopyReference<CR>

nnoremap <Leader>c<Space> :action CommentByLineComment<CR>
vnoremap <Leader>c<Space> :action CommentByLineComment<CR>

nnoremap ,k :action ExpressionTypeInfo<CR>
nnoremap ,K :action QuickJavaDoc<CR>

if filereadable(expand('~/.ideavimrc.local'))
  source ~/.ideavimrc.local
endif
